@tailwind base;
@tailwind components;
@tailwind utilities;

/* Safe area insets for notched devices */
:root {
  --sat: env(safe-area-inset-top);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
  --sar: env(safe-area-inset-right);
}

/* Prevent overscroll/bounce on iOS */
html {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

body {
  overscroll-behavior: none;
  -webkit-tap-highlight-color: transparent;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
}

/* Mobile optimizations */
@media (max-width: 640px) {
  /* Larger touch targets */
  button, 
  [role="button"],
  input[type="file"] + label {
    min-height: 44px;
  }

  /* Prevent zoom on input focus (iOS) */
  input, 
  textarea, 
  select {
    font-size: 16px;
  }

  /* Prevent horizontal scroll */
  body {
    overflow-x: hidden;
  }
}

/* Custom scrollbar */
.overflow-auto::-webkit-scrollbar,
.overflow-y-auto::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.overflow-auto::-webkit-scrollbar-track,
.overflow-y-auto::-webkit-scrollbar-track {
  background: transparent;
}

.overflow-auto::-webkit-scrollbar-thumb,
.overflow-y-auto::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
  border-radius: 4px;
}

.overflow-auto::-webkit-scrollbar-thumb:hover,
.overflow-y-auto::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.8);
}

/* Smooth transitions */
button {
  transition: transform 0.1s ease, background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
}

/* Focus styles */
button:focus-visible,
input:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

button:focus:not(:focus-visible),
input:focus:not(:focus-visible) {
  outline: none;
}

/* Active state feedback */
button:active:not(:disabled) {
  transform: scale(0.98);
}

/* Canvas rendering */
canvas {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* Fullscreen editor styles */
.fixed {
  /* Ensure fullscreen overlays work on all devices */
  position: fixed;
}

/* Animation for loading states */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* XS breakpoint for very small screens */
@media (min-width: 375px) {
  .xs\:inline {
    display: inline;
  }
}